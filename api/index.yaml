openapi: 3.0.3
info:
  title: Dokaai API
  version: 1.0.0
paths:
  /users/{userId}:
    post:
      summary: Create user under a project
      description: ""
      tags:
      - Swift-Notifier Service /Notification-handler/Command
      parameters:
      - name: userId
        in: path
        required: true
        schema: &a2
          type: string
      - name: ref
        in: query
        required: false
        schema: &a3
          type: string
      - name: Authorization
        in: header
        required: true
        schema: &a4
          minLength: 10
          type: string
      - name: sessionId
        in: cookie
        required: true
        schema: &a5
          minLength: 16
          type: string
      requestBody:
        required: true
        content:
          application/json:
            schema: &a6
              type: object
              properties:
                name:
                  minLength: 1
                  type: string
                email:
                  format: email
                  type: string
              required:
              - name
              - email
      responses:
        "200":
          description: Request was successful
          content:
            application/json:
              schema: &a7
                type: object
                properties:
                  user: &a21
                    type: object
                    properties:
                      id:
                        type: string
                      name:
                        type: string
                      email:
                        format: email
                        type: string
                    required:
                    - id
                    - name
                    - email
                required:
                - user
        "400": &a8
          description: Bad Request
          content:
            application/json:
              schema: &a1
                type: object
                properties:
                  message:
                    type: string
                  code:
                    type: number
                required:
                - message
                - code
        "401": &a9
          description: Unauthorized
          content:
            application/json:
              schema: *a1
        "403": &a10
          description: Forbidden
          content:
            application/json:
              schema: *a1
        "404": &a11
          description: Not Found
          content:
            application/json:
              schema: *a1
        "500": &a12
          description: Internal Server Error
          content:
            application/json:
              schema: *a1
  /users/{id}/posts:
    post:
      summary: Create user under a project
      parameters:
      - name: userId
        in: path
        required: true
        schema: *a2
      - name: ref
        in: query
        required: false
        schema: *a3
      - name: Authorization
        in: header
        required: true
        schema: *a4
      - name: sessionId
        in: cookie
        required: true
        schema: *a5
      requestBody:
        required: true
        content:
          application/json:
            schema: *a6
      responses:
        "200":
          description: Request was successful
          content:
            application/json:
              schema: *a7
        "400": *a8
        "401": *a9
        "403": *a10
        "404": *a11
        "500": *a12
  /billing/invoices/{id}:
    get:
      summary: Get invoice by ID
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: Invoice found
          content:
            application/json:
              schema: &a23
                type: object
                properties:
                  invoice: &a22
                    type: object
                    properties:
                      id:
                        type: string
                      amount:
                        type: number
                    required:
                    - id
                    - amount
                required:
                - invoice
        "404":
          description: Invoice not found
          content:
            application/json:
              schema: *a1
  /organizations:
    post:
      summary: Create a new organization
      description: Creates a new organization with the provided name and description
      tags:
      - Organization
      requestBody:
        required: true
        content:
          application/json:
            schema: &a24
              type: object
              properties:
                name: &a13
                  type: string
                description: &a14
                  type: string
              required:
              - name
              - description
      responses:
        "201":
          description: Organization created successfully
          content:
            application/json:
              schema: &a25
                type: object
                properties:
                  name: *a13
                  id: &a15
                    type: string
                  description: *a14
                  workspaceId: &a16
                    type: string
                required:
                - name
                - id
                - description
                - workspaceId
        "400":
          description: Bad request - Invalid input data
          content:
            application/json:
              schema: *a1
        "401":
          description: Unauthorized - Authentication required
          content:
            application/json:
              schema: *a1
  /organizations/{organizationId}:
    get:
      summary: Get organization by ID
      description: Retrieves detailed information about a specific organization
      tags:
      - Organization
      parameters:
      - name: organizationId
        in: path
        required: true
        description: Unique identifier of the organization
        schema:
          type: string
      responses:
        "200":
          description: Organization found
          content:
            application/json:
              schema: &a20
                type: object
                properties:
                  id: *a15
                  name: *a13
                  description: *a14
                  workspaceId: *a16
                  createdById:
                    type: string
                  createdDate:
                    type: Date
                  modifiedById:
                    type: string
                  modifiedDate:
                    type: Date
                  isActive:
                    type: boolean
                  isDeleted:
                    type: boolean
                required:
                - id
                - name
                - description
                - workspaceId
                - createdById
                - createdDate
                - modifiedById
                - modifiedDate
                - isActive
                - isDeleted
        "401":
          description: Unauthorized - Authentication required
          content:
            application/json:
              schema: *a1
        "404":
          description: Organization not found
          content:
            application/json:
              schema: *a1
  /organizations/info:
    patch:
      summary: Update organization information
      description: Updates basic information about the organization
      tags:
      - Organization
      requestBody:
        required: true
        content:
          application/json:
            schema: &a38
              type: object
              properties:
                body:
                  type: object
                  properties:
                    organizationId:
                      type: string
                    newState:
                      type: string
                    userId:
                      type: string
                  required:
                  - organizationId
                  - newState
              required:
              - body
      responses:
        "200":
          description: Organization updated successfully
          content:
            application/json:
              schema: &a39
                type: object
                properties:
                  id:
                    type: string
                required:
                - id
        "400":
          description: Bad request - Invalid input data
          content:
            application/json:
              schema: *a1
        "401":
          description: Unauthorized - Authentication required
          content:
            application/json:
              schema: *a1
        "404":
          description: Organization not found
          content:
            application/json:
              schema: *a1
  /organizations/members:
    get:
      summary: Get all organization members
      description: Retrieves a list of all members in the organization with pagination
      tags:
      - Organization
      - Members
      parameters:
      - name: page
        in: query
        required: false
        description: Page number for pagination
        schema:
          type: integer
          default: 1
      - name: limit
        in: query
        required: false
        description: Number of items per page
        schema:
          type: integer
          default: 10
      - name: search
        in: query
        required: false
        description: Search term to filter members
        schema:
          type: string
      responses:
        "200":
          description: Members retrieved successfully
          content:
            application/json:
              schema: &a26
                type: object
                properties:
                  metaData: &a27
                    type: object
                    properties:
                      page:
                        type: number
                      hasMore:
                        type: boolean
                      pageSize:
                        type: number
                      count:
                        type: number
                    required:
                    - page
                    - hasMore
                    - pageSize
                    - count
                  data:
                    type: array
                    items:
                      type: object
                      allOf:
                      - type: object
                        properties:
                          id:
                            type: string
                          email:
                            type: string
                          firstName:
                            type: string
                          lastName:
                            type: string
                          userId:
                            type: string
                          countryCode:
                            type: string
                          phoneNumber:
                            type: string
                        required:
                        - id
                        - email
                        - firstName
                        - lastName
                      - type: object
                        properties:
                          role:
                            type: object
                            properties:
                              id: &a17
                                type: string
                              name: &a18
                                type: string
                              scope: &a19
                                type: string
                            required:
                            - id
                            - name
                            - scope
                        required:
                        - role
                required:
                - metaData
                - data
        "401":
          description: Unauthorized - Authentication required
          content:
            application/json:
              schema: *a1
    post:
      summary: Remove multiple members from organization
      description: Removes multiple members from the organization in bulk
      tags:
      - Organization
      - Members
      requestBody:
        required: true
        content:
          application/json:
            schema: &a30
              type: object
              properties:
                body:
                  additionalProperties: false
                  type: object
                  properties:
                    userIds:
                      type: array
                      items:
                        type: string
                  required:
                  - userIds
              required:
              - body
      responses:
        "200":
          description: Members removed successfully
          content:
            application/json:
              schema: &a31
                type: object
                properties:
                  message:
                    type: string
                  removedUsers:
                    type: array
                    items:
                      type: string
                required:
                - message
                - removedUsers
        "400":
          description: Bad request - Invalid member IDs
          content:
            application/json:
              schema: *a1
        "401":
          description: Unauthorized - Authentication required
          content:
            application/json:
              schema: *a1
  /organizations/members/{memberId}:
    post:
      summary: Remove member from organization
      description: Removes a specific member from the organization
      tags:
      - Organization
      - Members
      parameters:
      - name: memberId
        in: path
        required: true
        description: Unique identifier of the member to remove
        schema:
          type: string
      responses:
        "200":
          description: Member removed successfully
          content:
            application/json:
              schema: &a40
                type: object
                properties:
                  success:
                    type: boolean
                  message:
                    type: string
                required:
                - success
                - message
        "401":
          description: Unauthorized - Authentication required
          content:
            application/json:
              schema: *a1
        "404":
          description: Member not found
          content:
            application/json:
              schema: *a1
  /organizations/members/project-membership/{projectId}:
    get:
      summary: Get members with project membership flag
      description: Retrieves all organization members with a flag indicating their membership in a specific project
      tags:
      - Organization
      - Members
      - Projects
      parameters:
      - name: projectId
        in: path
        required: true
        description: Unique identifier of the project
        schema:
          type: string
      responses:
        "200":
          description: Members with project membership retrieved successfully
          content:
            application/json:
              schema: &a41
                type: object
                properties:
                  members:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                        userId:
                          type: string
                        role:
                          type: string
                        isProjectMember:
                          type: boolean
                        user:
                          type: object
                          properties:
                            id:
                              type: string
                            firstName:
                              type: string
                            lastName:
                              type: string
                            email:
                              format: email
                              type: string
                            profileImageUrl:
                              type: string
                          required:
                          - id
                          - firstName
                          - lastName
                          - email
                      required:
                      - id
                      - userId
                      - role
                      - isProjectMember
                      - user
                required:
                - members
        "401":
          description: Unauthorized - Authentication required
          content:
            application/json:
              schema: *a1
        "404":
          description: Project not found
          content:
            application/json:
              schema: *a1
  /organizations/members/roles:
    patch:
      summary: Update user role in organization
      description: Updates the role of a specific user in the organization
      tags:
      - Organization
      - Members
      - Roles
      requestBody:
        required: true
        content:
          application/json:
            schema: &a32
              type: object
              properties:
                body:
                  type: object
                  properties:
                    members:
                      type: array
                      items:
                        additionalProperties: false
                        type: object
                        properties:
                          memberId:
                            type: string
                          roleId:
                            type: string
                        required:
                        - memberId
                        - roleId
                  required:
                  - members
              required:
              - body
      responses:
        "200":
          description: User role updated successfully
          content:
            application/json:
              schema: &a33
                type: object
                properties:
                  updatedMembers:
                    type: array
                    items:
                      type: string
                  failedToUpdate:
                    type: array
                    items:
                      type: object
                      properties:
                        memberId:
                          type: string
                        message:
                          type: string
                      required:
                      - memberId
                      - message
                required:
                - updatedMembers
        "400":
          description: Bad request - Invalid user ID or role ID
          content:
            application/json:
              schema: *a1
        "401":
          description: Unauthorized - Authentication required
          content:
            application/json:
              schema: *a1
        "404":
          description: User or role not found
          content:
            application/json:
              schema: *a1
  /organizations/role:
    get:
      summary: Get all available roles
      description: Retrieves all available roles that can be assigned to organization members
      tags:
      - Organization
      - Roles
      responses:
        "200":
          description: Roles retrieved successfully
          content:
            application/json:
              schema: &a29
                type: array
                items:
                  type: object
                  properties:
                    id: *a17
                    name: *a18
                    scope: *a19
                  required:
                  - id
                  - name
                  - scope
        "401":
          description: Unauthorized - Authentication required
          content:
            application/json:
              schema: *a1
  /organizations/services:
    get:
      summary: Get all organization services
      description: Retrieves all services available to the organization
      tags:
      - Organization
      - Services
      responses:
        "200":
          description: Services retrieved successfully
          content:
            application/json:
              schema: &a28
                type: array
                items:
                  type: object
                  properties:
                    serviceId:
                      type: string
                    service:
                      type: object
                      properties:
                        name:
                          type: string
                        tradeName:
                          type: string
                        description:
                          type: string
                        icon:
                          type: string
                        isPublished:
                          type: boolean
                      required:
                      - name
                      - tradeName
                      - description
                      - icon
                      - isPublished
                    isSubscribed:
                      type: boolean
                    isBillingPaused:
                      type: boolean
                    isPublished:
                      type: boolean
                  required:
                  - serviceId
                  - service
                  - isSubscribed
                  - isBillingPaused
                  - isPublished
        "401":
          description: Unauthorized - Authentication required
          content:
            application/json:
              schema: *a1
  /organizations/workspaces/{workspaceId}:
    get:
      summary: Get organization by workspace ID
      description: Retrieves organization information using the workspace identifier
      tags:
      - Organization
      - Workspaces
      parameters:
      - name: workspaceId
        in: path
        required: true
        description: Unique identifier of the workspace
        schema:
          type: string
      responses:
        "200":
          description: Organization found
          content:
            application/json:
              schema: *a20
        "401":
          description: Unauthorized - Authentication required
          content:
            application/json:
              schema: *a1
        "404":
          description: Organization not found for the given workspace
          content:
            application/json:
              schema: *a1
  /organizations/demo:
    post:
      summary: Request a demo
      description: Submit a request for a product demonstration
      tags:
      - Organization
      - Demo
      requestBody:
        required: true
        content:
          application/json:
            schema: &a34
              type: object
              properties:
                body:
                  additionalProperties: false
                  type: object
                  properties:
                    message:
                      type: string
                    contactNumber:
                      type: string
                    email:
                      type: string
                    fullName:
                      type: string
                    topic:
                      type: string
                  required:
                  - message
                  - contactNumber
                  - email
                  - fullName
                  - topic
              required:
              - body
      responses:
        "200":
          description: Demo request submitted successfully
          content:
            application/json:
              schema: &a35
                type: object
                properties:
                  status:
                    type: string
                required:
                - status
        "400":
          description: Bad request - Invalid contact information
          content:
            application/json:
              schema: *a1
  /organizations/integrations/new-request:
    post:
      summary: Request new integration
      description: Submit a request for a new integration with the platform
      tags:
      - Organization
      - Integrations
      requestBody:
        required: true
        content:
          application/json:
            schema: &a36
              type: object
              properties:
                body:
                  type: object
                  properties:
                    providerName:
                      type: string
                    providerDescription:
                      type: string
                    referenceWebsiteLink:
                      type: string
                  required:
                  - providerName
                  - providerDescription
                  - referenceWebsiteLink
              required:
              - body
      responses:
        "200":
          description: Integration request submitted successfully
          content:
            application/json:
              schema: &a37
                type: object
                properties:
                  status:
                    type: string
                required:
                - status
        "400":
          description: Bad request - Invalid integration request data
          content:
            application/json:
              schema: *a1
        "401":
          description: Unauthorized - Authentication required
          content:
            application/json:
              schema: *a1
components:
  schemas:
    User: *a21
    GetUserResponse: *a7
    Invoice: *a22
    GetInvoiceResponse: *a23
    ErrorResponse: *a1
    Pagination:
      type: object
      properties:
        page:
          type: number
        perPage:
          type: number
        total:
          type: number
      required:
      - page
      - perPage
      - total
    CreateOrganizationRequest: *a24
    CreateOrganizationResponse: *a25
    GetOrganizationByIdResponse: *a20
    GetOrganizationMembersResponse: *a26
    GetOrganizationProjectsResponse:
      type: object
      properties:
        metaData: *a27
        data:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
              name:
                type: string
              description:
                type: string
              orgId:
                type: string
              createdById:
                type: string
              createdDate:
                type: Date
              modifiedById:
                type: string
              modifiedDate:
                type: Date
              isActive:
                type: boolean
              isDeleted:
                type: boolean
              isMember:
                type: boolean
            required:
            - id
            - name
            - createdById
            - createdDate
            - modifiedById
            - modifiedDate
            - isActive
            - isDeleted
      required:
      - metaData
      - data
    GetOrganizationServicesResponse: *a28
    GetRolesResponse: *a29
    RemoveMembersFromOrganizationRequest: *a30
    RemoveMembersFromOrganizationResponse: *a31
    UpdateRoleForUserOrgRequest: *a32
    UpdateRoleForUserOrgResponse: *a33
    RequestDemoRequest: *a34
    RequestDemoResponse: *a35
    RequestNewIntegrationRequest: *a36
    RequestNewIntegrationResponse: *a37
    UpdateOrganizationInfoRequest: *a38
    UpdateOrganizationInfoResponse: *a39
    RemoveSingleMemberResponse: *a40
    ProjectMembershipQueryResponse: *a41
    InviteUserToOrganizationRequest:
      type: object
      properties:
        body:
          additionalProperties: false
          type: object
          properties:
            invitedUserEmail:
              type: string
            profile:
              type: string
            roleId:
              type: string
          required:
          - invitedUserEmail
          - profile
      required:
      - body
    InviteUserToOrganizationResponse:
      type: object
      properties:
        id:
          type: string
      required:
      - id
    GetOrganizationInvitationsResponse:
      type: object
      properties:
        metaData: *a27
        data:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
              invitedUserEmail:
                type: string
              inviteStatus:
                anyOf:
                - const: INVITED
                  type: string
                - const: EXPIRED
                  type: string
                - const: ACCEPTED
                  type: string
                - const: DECLINED
                  type: string
                - const: WITHDRAWN
                  type: string
                - const: DELETED
                  type: string
              role:
                type: object
                properties:
                  id: *a17
                  name: *a18
                  scope: *a19
                required:
                - id
                - name
                - scope
            required:
            - id
            - invitedUserEmail
            - inviteStatus
            - role
      required:
      - metaData
      - data
    SubscribeServiceToOrganizationRequest:
      type: object
      properties:
        params:
          additionalProperties: false
          type: object
          properties:
            serviceId:
              type: string
          required:
          - serviceId
        query:
          additionalProperties: false
          type: object
          properties: {}
      required:
      - params
      - query
    SubscribeServiceToOrganizationResponse:
      type: object
      properties:
        id:
          type: string
      required:
      - id
    RemoveSingleMemberRequest:
      type: object
      properties:
        params:
          type: object
          properties:
            memberId:
              type: string
          required:
          - memberId
      required:
      - params
